{% extends "base.html" %}

{% block title %}Points Store - TTT Rewards{% endblock %}

{% block styles %}
  {{ super() }} {# <-- Include base styles #}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/truck-rewards.css') }}">
  {# --- REMOVED JS INCLUDE FROM HERE --- #}
{% endblock %}

{% block content %}
  {# Added container for consistency #}
  <main class="app-main-content container">
      <h1>My Points Store</h1> {# Changed title slightly for clarity #}

      {# Ensure CSRF token is inside a form if needed, or remove if unused on this page #}
      {# <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"> #}

      <section class="points-store">
        {# Search Form #}
        <div class="search-controls" style="margin-bottom: 2rem; max-width: 600px;">
          <form id="search-form" class="form-inline" style="display: flex; gap: 0.5rem; align-items: center;">
            <input type="text" id="search-input" class="form-control" placeholder="Search for items..." style="flex-grow: 1;">
            <input type="number" id="min-price" class="form-control" placeholder="Min $" style="width: 80px;">
            <input type="number" id="max-price" class="form-control" placeholder="Max $" style="width: 80px;">
            <button type="submit" class="btn btn-primary">Search</button>
          </form>
        </div>

        {# Product Grid - Populated by JS #}
        <div id="products" class="product-grid">
            <p>Loading products...</p> {# Initial loading message #}
        </div>
      </section>
  </main>
{% endblock %}

{% block scripts %}
  {{ super() }} {# <-- Keep base scripts #}
  {# --- KEPT JS INCLUDE HERE --- #}
  <script src="{{ url_for('static', filename='js/truck-rewards.js') }}"></script>
{% endblock %}